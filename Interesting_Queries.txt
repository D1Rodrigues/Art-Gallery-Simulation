Select c.name, Count(d.displayId) AS Displays_created From Curator c, Display d Where Exists(Select * From contains c2, Art_piece a Where( c.userId = d.userId and ( d.displayId = c2.displayId and a.pieceId = c2.pieceId)))group by c.name Order by Count(d.displayId)
Select s.unitId, Count(a.pieceId) AS amount_of_art_stored From storage s, art_piece a Where( s.unitId = a.unitId) group by s.unitId having Max(a.pieceId) > (Select Avg(pieceId) From art_piece) Order by Count(a.pieceId) desc, s.unitId desc
Select d.theme, c.name As author, AVG(a.price) as Avg_Price From display d, curator c, art_Piece a Where exists((Select * from contains c1 where( c1.pieceId = a.pieceId and c1.displayId = d.displayId and(d.userId = c.userId))))Group by d.theme, c.name Minus( Select d1.theme, c2.name, AVG(a1.price) From display d1, gallery_floor g, curator c2, art_piece a1 Where exists( Select * From contains c3 where( g.galleryId = d1.galleryId AND g.galleryId = '2' and( c3.pieceId = a1.pieceId and c3.displayId = d1.displayId and (d1.userId = c2.userId))))Group by d1.theme, c2.name)
Select a1.name as Piece_Name From Art_IDENTITY a1 where Exists( Select * From display d, contains c where( d.displayId = c.displayId and c.pieceId = a1.pieceId)) Minus( Select a2.name from Art_IDENTITY a2 where Exists( select * from gallery_floor g, display d2, contains c2 where( d2.displayId = c2.displayId and c2.pieceId = a2.pieceId and( g.galleryId = d2.galleryId and g.galleryId = '2'))))
Select d.theme, u.name as Author, Max(a.price) as Most_expensive_Art From display d, curator u, art_piece a Where exists( Select * from contains c where( c.displayId = d.displayId and c.pieceId = a.pieceId )and( u.userId = d.userId)) Group by d.theme, u.name Having Max(a.price) > (Select AVG(price) from Art_piece) Order by Max(a.price) Desc
Select p.name From artist p Where exists( Select * from Art_piece a, contains c, display d, gallery_floor g where( a.pieceId = c.pieceId and d.displayId = c.displayId and( g.galleryId = d.galleryId and g.galleryId = '1'))) Union( Select p1.name from artist p1 where exists( Select * from period pe where( pe.periodId = p1.artistId and pe.periodId = '6')))
